<!DOCTYPE html>
<html>
<head>
    <title>Rock Paper Scissors</title>
    <meta charset="UTF-8"/>
</head>
<body>
    <script>
        // Create function that gives you back random answer for the computer selection
        function computerPlay() {
            // Define variable random that is an integer and returns a value from 0-2
            let random = Math.floor(Math.random() * 3);

            switch (random) {
                case 0: 
                    return "rock";
                case 1:
                    return "paper";
                case 2:
                    return "scissors";
            }
        }

        // Create function that runs one round of rock paper scissors
        function playRound(playerSelection, computerSelection){
            // Decides what to execute based on the selections
            switch (playerSelection) {
                // What to do if player picked paper
                case "paper":
                    if (computerSelection === "paper") {
                        return `It's a tie! ${playerSelection} matches ${computerSelection}.`
                    } else if (computerSelection === "scissors") {
                        return `You lose! ${computerSelection} beats ${playerSelection}.`
                    } else {
                        return `You win! ${playerSelection} beats ${computerSelection}.`
                    }
                // What to do if player picked scissors
                case "scissors":
                if (computerSelection === "scissors") {
                    return `It's a tie! ${playerSelection} matches ${computerSelection}.`
                } else if (computerSelection === "rock") {
                    return `You lose! ${computerSelection} beats ${playerSelection}.`
                } else {
                    return `You win! ${playerSelection} beats ${computerSelection}.`
                }
                // What to do if player picks rock
                case "rock":
                    if (computerSelection === "rock") {
                        return `It's a tie! ${playerSelection} matches ${computerSelection}.`
                    } else if (computerSelection === "paper") {
                        return `You lose! ${computerSelection} beats ${playerSelection}.`
                    } else {
                        return `You win! ${playerSelection} beats ${computerSelection}.`
                    }
            }
        }

        // Create game function
        function game() {

            // Declare variables
            let playerWins = 0;
            let computerWins = 0;
            // Create computer selection variable and call function to assign something to it
            const computerSelection = computerPlay();

            // Loop to go through this five times
            for (let i = 0; i < 5; i++) {

                // Create computer selection variable and call function to assign something to it
                let computerSelection = computerPlay();

                // Runs a game and stores it in result
                let result = playRound(playerSelection, computerSelection)
                
                // Put the result for each round on the console
                console.log(result);

                // Increment appopriate score
                if (result.search("win") != 1) {
                    playerWins = ++playerWins;
                }
                else if (result.search("lose") != 1) {
                    computerWins = ++computerWins;
                }
            }

            if (playerWins > computerWins) {
                console.log("You win the whole enchilada");
            } else if (playerWins > computerWins) {
                console.log("Better luck next time");
            } else {
                console.log("It's a tie");
            }
        }

        // Create a loop to prompt user for choice but only stop prompting if there's the correct input
        let keepRunning = true;
        let playerSelection;

        while (keepRunning === true){
            // Create string variable playerSelection to store the user selection
            playerSelection = prompt("Rock, paper, or scissors?");
            // Convert user input to all lower case
            playerSelection = playerSelection.toLowerCase();

            if (playerSelection === "rock" || playerSelection === "paper" || playerSelection ==="scissors") {
                keepRunning = false;
            }
        }
        game();

    </script>
</body>

</html>